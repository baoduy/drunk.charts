# Default values for app.
# fullnameOverride: "YOUR_APP_NAME" # DONOT use this update in the chard name instead

 global:
#   image: "YOUR_APP_IMAGE"
#   tag: "latest"
#   imagePullPolicy: 'IfNotPresent'
#   imagePullSecrets: []

# Environments variables through configMap and secrets
# configMap:
#   YOUR_VARIABLE: VALUE

# secrets:
#   YOUR_SECRET: "VALUE"

# The flag to disable pod-deployment incase of Job/CronJob only deployment
deployment:
  enabled: true
  ports:
    http: 8080
  replicaCount: 1
  #command:
  #args:
  #liveness: "/healthz"
  #readiness: "/healthz/ready"

#cronJobs:
#  - name: 'job-one'
#    schedule: "* 0 * * *"
#    restartPolicy: OnFailure
#    command:
#      - 'Job_Parameters'

#cronJobs:
#  - name: 'job-one'
#    restartPolicy: OnFailure
#    command:
#      - 'Job_Parameters'

# This is to fix the issue 'Failed to create CoreCLR, HRESULT: 0x8007000E'
volumes:
  - name: tmp
    mountPath: '/tmp'
    readOnly: false
    emptyDir: true

serviceAccount:
  create: false
  annotations: {}

podAnnotations: {}

podSecurityContext:
  fsGroup: 10000
  runAsUser: 10000
  runAsGroup: 10000
securityContext:
  capabilities:
    drop:
      - ALL
  readOnlyRootFilesystem: true
  allowPrivilegeEscalation: false
  runAsNonRoot: true

service:
  type: ClusterIP

ingress:
  enabled: false
  annotations:
    kubernetes.io/ingress.class: nginx
  hosts:
    - host: hello.drunkcoding.net
      port: 8080
      path: /
  tls: chart-example-tls

resources:
  limits:
    cpu: 100m
    memory: 128Mi
  requests:
    cpu: 100m
    memory: 128Mi

#autoscaling:
#  enabled: false
#  minReplicas: 1
#  maxReplicas: 100
#  targetCPUUtilizationPercentage: 80
  # targetMemoryUtilizationPercentage: 80

nodeSelector: {}
tolerations: []
affinity: {}

# Network Policies - Control network access to pods
# Supports both single policy (legacy) and multiple policies (new)
# Disabled by default - uncomment and configure as needed

# Legacy single policy configuration (backward compatible):
# networkPolicy:
#   policyTypes:
#     - Ingress
#     - Egress
#   ingress:
#     - from:
#       - podSelector:
#           matchLabels:
#             app: allowed-app
#   egress:
#     - to:
#       - namespaceSelector: {}

# New multiple policies configuration (recommended):
# networkPolicies:
#   # Example 1: Allow traffic only from private IP ranges (CIDR-based)
#   - name: allow-private-ips
#     enabled: true
#     policyTypes:
#       - Ingress
#     ingress:
#       - from:
#         # Private IP ranges (RFC 1918)
#         - ipBlock:
#             cidr: 10.0.0.0/8
#         - ipBlock:
#             cidr: 172.16.0.0/12
#         - ipBlock:
#             cidr: 192.168.0.0/16
#         ports:
#         - protocol: TCP
#           port: 8080
#
#   # Example 2: Allow traffic only from within the same namespace
#   - name: allow-same-namespace
#     enabled: true
#     policyTypes:
#       - Ingress
#     ingress:
#       - from:
#         - podSelector: {}
#
#   # Example 3: Allow traffic from specific pods with labels
#   - name: allow-from-frontend
#     enabled: true
#     policyTypes:
#       - Ingress
#     ingress:
#       - from:
#         - podSelector:
#             matchLabels:
#               app: frontend
#               tier: web
#         ports:
#         - protocol: TCP
#           port: 8080
#
#   # Example 4: Allow egress to specific services only
#   - name: allow-egress-to-database
#     enabled: true
#     policyTypes:
#       - Egress
#     egress:
#       - to:
#         - podSelector:
#             matchLabels:
#               app: postgres
#         ports:
#         - protocol: TCP
#           port: 5432
#       # Allow DNS
#       - to:
#         - namespaceSelector:
#             matchLabels:
#               name: kube-system
#         ports:
#         - protocol: UDP
#           port: 53
#
#   # Example 5: Deny all ingress traffic (default deny)
#   - name: deny-all-ingress
#     enabled: false
#     policyTypes:
#       - Ingress
#     # Empty ingress rules = deny all
#
#   # Example 6: Allow traffic from specific namespace
#   - name: allow-from-monitoring
#     enabled: true
#     policyTypes:
#       - Ingress
#     ingress:
#       - from:
#         - namespaceSelector:
#             matchLabels:
#               name: monitoring
#         ports:
#         - protocol: TCP
#           port: 8080
